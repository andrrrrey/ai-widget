diff --git a/server/src/index.js b/server/src/index.js
index 27734f8fc6b91a8103b6833f2fa9d37d2f9fe90d..8a4023326870148ecb293d274fb8ec418abea129 100644
--- a/server/src/index.js
+++ b/server/src/index.js
@@ -1,54 +1,56 @@
 import express from "express";
 import cookieParser from "cookie-parser";
 import path from "path";
 import { fileURLToPath } from "url";
 import dotenv from "dotenv";
 
 import { ensureSchema, pool } from "./lib/db.js";
 import { requireAdmin, requireUser, loginHandler, logoutHandler, hashPassword } from "./lib/auth.js";
 import {
   createUser,
   listUsers,
   updateUserPassword,
   deleteUser,
   findUserByEmail,
   createProject,
   listProjects,
   getProject,
   updateProject,
   deleteProject,
   addProjectTelegramChat,
   deleteProjectTelegramChats,
   createChat,
   getChatById,
   listChats,
   listMessages,
+  closeInactiveChats,
   addMessage,
   setChatMode,
   touchChat,
   countUserMessages,
+  deleteChat,
 } from "./lib/store.js";
 import { widgetCors } from "./lib/widgetCors.js";
 import {
   fetchAssistantInstructions,
   runAssistantStream,
   syncOperatorToThread,
   updateAssistantInstructions,
 } from "./lib/openai.js";
 import { getChatDisplayName } from "./lib/chatNames.js";
 import {
   consumeTelegramSecret,
   notifyProjectAboutFirstMessage,
   notifyProjectAboutContacts,
   extractContactInfo,
 } from "./lib/telegram.js";
 
 dotenv.config({ path: "/var/www/ai-widget/server/.env" });
 
 const NO_SOURCE_INSTRUCTION =
   "Не указывай в ответах источник документа, из которого взята информация.";
 
 const ASSISTANT_ID_PATTERN = /^asst_[a-zA-Z0-9]{12,}$/;
 
 const isLikelyAssistantId = (value) => ASSISTANT_ID_PATTERN.test(String(value || ""));
 
@@ -461,66 +463,68 @@ app.patch("/api/admin/projects/:projectId", requireAdmin, async (req, res) => {
   const apiKey = patch.openai_api_key ?? current.openai_api_key;
   const instructions = patch.instructions ?? current.instructions;
 
   if (
     typeof req.body?.instructions === "string" &&
     assistantId &&
     apiKey &&
     isLikelyAssistantId(assistantId)
   ) {
     try {
       await updateAssistantInstructions({ apiKey, assistantId, instructions });
     } catch (err) {
       console.warn("assistant instructions update failed", err?.message || err);
       return res
         .status(500)
         .json({ error: "failed_to_update_assistant", message: err?.message || "" });
     }
   }
   
   res.json({ project });
 });
 
 // Chats and messages (scoped by project)
 app.get("/api/admin/projects/:projectId/chats", requireAdmin, async (req, res) => {
   const { projectId } = req.params;
+  await closeInactiveChats({ projectId });
   const status = req.query.status ? String(req.query.status) : null;
   const mode = req.query.mode ? String(req.query.mode) : null;
   const items = await listChats({ projectId, status, mode });
   const withNames = items.map((chat) => ({
     ...chat,
     display_name: getChatDisplayName(chat.id),
   }));
   res.json({ items: withNames });
 });
 
 app.get("/api/user/projects/:projectId/chats", requireUser, async (req, res) => {
   const { projectId } = req.params;
   const project = await getProject(projectId);
   if (!project || project.owner_id !== req.auth.userId)
     return res.status(404).json({ error: "project_not_found" });
 
+  await closeInactiveChats({ projectId });
   const status = req.query.status ? String(req.query.status) : null;
   const mode = req.query.mode ? String(req.query.mode) : null;
   const items = await listChats({ projectId, status, mode });
   const withNames = items.map((chat) => ({
     ...chat,
     display_name: getChatDisplayName(chat.id),
   }));
   res.json({ items: withNames });
 });
 
 app.get("/api/admin/chats/:chatId/messages", requireAdmin, async (req, res) => {
   const items = await listMessages(req.params.chatId);
   res.json({ items });
 });
 
 app.get("/api/user/chats/:chatId/messages", requireUser, async (req, res) => {
   const chat = await getChatById(req.params.chatId);
   if (!chat) return res.status(404).json({ error: "chat_not_found" });
 
   const project = await getProject(chat.project_id);
   if (!project || project.owner_id !== req.auth.userId)
     return res.status(404).json({ error: "chat_not_found" });
 
   const items = await listMessages(chat.id);
   res.json({ items });
@@ -583,33 +587,39 @@ app.post("/api/admin/chats/:chatId/release", requireAdmin, async (req, res) => {
   const chat = await setChatMode(req.params.chatId, "assistant");
   res.json({ chat });
 });
 
 app.post("/api/admin/chats/:chatId/message", requireAdmin, async (req, res) => {
   const text = String(req.body?.text || "").trim();
   if (!text) return res.status(400).json({ error: "empty" });
 
   const chat = await getChatById(req.params.chatId);
   if (!chat) return res.status(404).json({ error: "chat_not_found" });
 
   await addMessage({ chatId: chat.id, role: "human", content: text });
 
   try {
     const project = await getProject(chat.project_id);
     if (project?.openai_api_key) {
       await syncOperatorToThread(project.openai_api_key, chat.thread_id, text);
     }
   } catch (e) {
     console.warn("syncOperatorToThread error:", e?.message || e);
   }
 
   res.json({ ok: true });
 });
 
+app.delete("/api/admin/chats/:chatId", requireAdmin, async (req, res) => {
+  const ok = await deleteChat(req.params.chatId);
+  if (!ok) return res.status(404).json({ error: "chat_not_found" });
+  res.json({ ok: true });
+});
+
 app.use((req, res) => res.status(404).json({ error: "not_found" }));
 
 const port = Number(process.env.PORT || 3000);
 app.listen(port, async () => {
   await ensureSchema();
   await pool.query("SELECT 1");
   console.log(`[ai-widget] listening on :${port}`);
 });
diff --git a/server/src/lib/store.js b/server/src/lib/store.js
index d170defb2beb465eb880fd7ff733ad233583c320..16e471e13ceeb3b0b2cf4a31039bb43fa7d23a65 100644
--- a/server/src/lib/store.js
+++ b/server/src/lib/store.js
@@ -146,54 +146,78 @@ export async function createChat({ projectId, visitorId, openaiApiKey }) {
 
   const row = await sql.one(
     `INSERT INTO chats (id, project_id, thread_id, mode, status, visitor_id)
      VALUES ($1,$2,$3,'assistant','open',$4) RETURNING *`,
     [id, projectId, threadId, visitorId || null]
   );
   return row;
 }
 
 export async function getChatById(chatId) {
   return await sql.oneOrNone("SELECT * FROM chats WHERE id=$1", [chatId]);
 }
 
 export async function listChats({ projectId, status = null, mode = null }) {
   const where = ["project_id=$1"];
   const params = [projectId];
   let i = 2;
 
   if (status) { where.push(`status=$${i++}`); params.push(status); }
   if (mode) { where.push(`mode=$${i++}`); params.push(mode); }
 
   const q = `SELECT * FROM chats WHERE ${where.join(" AND ")} ORDER BY updated_at DESC LIMIT 200`;
   return await sql.many(q, params);
 }
 
+export async function closeInactiveChats({ projectId, inactivityMinutes = 30 }) {
+  if (!projectId) return 0;
+  const row = await sql.one(
+    `WITH updated AS (
+      UPDATE chats
+      SET status='closed', updated_at=NOW()
+      WHERE project_id=$1
+        AND status='open'
+        AND COALESCE(last_seen_at, created_at) < NOW() - ($2 || ' minutes')::interval
+      RETURNING 1
+    )
+    SELECT COUNT(*)::int AS count FROM updated`,
+    [projectId, String(inactivityMinutes)]
+  );
+  return row?.count ?? 0;
+}
+
 export async function listMessages(chatId) {
   return await sql.many("SELECT * FROM messages WHERE chat_id=$1 ORDER BY created_at ASC", [chatId]);
 }
 
 export async function addMessage({ chatId, role, content }) {
   return await sql.one(
     `INSERT INTO messages (id, chat_id, role, content)
      VALUES ($1,$2,$3,$4) RETURNING *`,
     [uuidv4(), chatId, role, content]
   );
 }
 
 export async function countUserMessages(chatId) {
   const row = await sql.one(
     "SELECT COUNT(*)::int AS count FROM messages WHERE chat_id=$1 AND role='user'",
     [chatId]
   );
   return row?.count ?? 0;
 }
 
 export async function setChatMode(chatId, mode) {
   const row = await sql.oneOrNone("UPDATE chats SET mode=$2, updated_at=NOW() WHERE id=$1 RETURNING *", [chatId, mode]);
   if (!row) throw new Error("chat_not_found");
   return row;
 }
 
 export async function touchChat(chatId) {
-  await sql.exec("UPDATE chats SET updated_at=NOW(), last_seen_at=NOW() WHERE id=$1", [chatId]);
+  await sql.exec("UPDATE chats SET status='open', updated_at=NOW(), last_seen_at=NOW() WHERE id=$1", [chatId]);
+}
+
+export async function deleteChat(chatId) {
+  const existing = await getChatById(chatId);
+  if (!existing) return false;
+  await sql.exec("DELETE FROM chats WHERE id=$1", [chatId]);
+  return true;
 }
diff --git a/web-admin/admin.js b/web-admin/admin.js
index e57f23c91d6c6d8ad466e2d91b85ee67ed750659..0b3492d6ceaccc12d4135c7cff462a733e6448f7 100644
--- a/web-admin/admin.js
+++ b/web-admin/admin.js
@@ -271,61 +271,66 @@ async function deleteProject(){
   await refreshProjects(true);
 }
 
 async function refreshChats(){
   if(!selectedProjectId) return;
   const mode = $("#filterMode").value;
   const status = $("#filterStatus").value;
   const qs = new URLSearchParams();
   if(mode) qs.set("mode", mode);
   if(status) qs.set("status", status);
 
   const base = isAdmin()
     ? `/api/admin/projects/${selectedProjectId}/chats`
     : `/api/user/projects/${selectedProjectId}/chats`;
   const j = await api(`${base}?${qs.toString()}`);
   renderChats(j.items || []);
 }
 
 function renderChats(items){
   const box = $("#chatList");
   box.innerHTML = "";
   if(!items.length){
     box.innerHTML = `<div class="muted">Пока нет чатов</div>`;
     return;
   }
+  const formatStatus = (status) => {
+    if(status === "closed") return "Закрытый";
+    if(status === "open") return "Открытый";
+    return status || "-";
+  };
   for(const c of items){
     const title = c.display_name || c.id;
     const div = document.createElement("div");
     div.className = "item";
     div.innerHTML = `
       <div class="row" style="justify-content:space-between">
         <div>
           <div style="font-weight:700">${escapeHtml(title)}</div>
           <div class="mono muted" style="font-size:12px">${escapeHtml(c.id)}</div>
         </div>
-        <span class="pill">${escapeHtml(c.mode)} • ${escapeHtml(c.status)}</span>
+        <span class="pill">${escapeHtml(c.mode)} • ${escapeHtml(formatStatus(c.status))}</span>
       </div>
       <div class="muted">updated: ${new Date(c.updated_at).toLocaleString()}</div>
       <div class="muted">visitor: ${escapeHtml(c.visitor_id || "-")}</div>
     `;
     div.addEventListener("click", ()=> openChat(c));
     box.appendChild(div);
   }
 }
 
 async function openChat(chat){
   const chatId = typeof chat === "string" ? chat : chat?.id;
   if(!chatId) return;
   selectedChatId = chatId;
   selectedChatName = typeof chat === "object" ? (chat.display_name || chat.id) : chatId;
   $("#chatPlaceholder").style.display = "none";
   $("#chatBox").style.display = "block";
   $("#chatId").textContent = selectedChatName || chatId;
   await refreshChatView();
   startPolling();
 }
 
 async function refreshChatView(){
   if(!selectedChatId) return;
   const messagesUrl = isAdmin()
     ? `/api/admin/chats/${selectedChatId}/messages`
@@ -358,50 +363,58 @@ function renderMessages(items){
   }
   box.scrollTop = box.scrollHeight;
 }
 
 function startPolling(){
   if(pollTimer) clearInterval(pollTimer);
   pollTimer = setInterval(async ()=>{
     try{ await refreshChatView(); } catch {}
   }, 1500);
 }
 
 async function takeover(){
   if(!selectedChatId) return;
   await api(`${chatApiBase()}/${selectedChatId}/takeover`, { method:"POST" });
   await refreshChats();
   await refreshChatView();
 }
 
 async function release(){
   if(!selectedChatId) return;
   await api(`${chatApiBase()}/${selectedChatId}/release`, { method:"POST" });
   await refreshChats();
   await refreshChatView();
 }
 
+async function deleteChat(){
+  if(!selectedChatId || !isAdmin()) return;
+  if(!confirm("Удалить этот чат? Сообщения будут удалены без возможности восстановления.")) return;
+  await api(`/api/admin/chats/${selectedChatId}`, { method:"DELETE" });
+  resetChatView();
+  await refreshChats();
+}
+
 async function sendHuman(e){
   e.preventDefault();
   if(!selectedChatId) return;
   const textEl = $("#humanText");
   const text = textEl.value.trim();
   if(!text) return;
 
   try {
     await takeover();
   } catch (err) {
     console.warn("takeover failed", err);
     return;
   }
   
   await api(`${chatApiBase()}/${selectedChatId}/message`, {
     method:"POST",
     headers:{ "Content-Type":"application/json" },
     body: JSON.stringify({ text })
   });
   textEl.value = "";
   await refreshChatView();
 }
 
 function resetChatView(){
   selectedChatId = null;
@@ -506,35 +519,36 @@ async function createUserFromForm(e){
     const code = err?.data?.error || err?.message || "api_error";
     if(code === "user_exists"){
       $("#userErr").textContent = "Такой пользователь уже существует";
     } else if(code === "email_and_password_required"){
       $("#userErr").textContent = "Нужно указать email и пароль";
     } else {
       $("#userErr").textContent = "Не удалось создать пользователя. Попробуйте ещё раз.";
     }
   }
 }
 
 $("#btnLogin").addEventListener("click", ()=> login().catch(e => $("#loginErr").textContent = "Ошибка входа"));
 $("#btnLogout").addEventListener("click", ()=> logout().catch(()=>{}));
 $("#btnRefreshProjects").addEventListener("click", ()=> refreshProjects(false).catch(()=>{}));
 $("#btnCreateProject").addEventListener("click", ()=> createProject().catch(()=>{}));
 $("#btnSaveProject").addEventListener("click", ()=> saveProject().catch(()=>{}));
 $("#btnDeleteProject").addEventListener("click", ()=> deleteProject().catch(()=>{}));
 $("#btnRefreshChats").addEventListener("click", ()=> refreshChats().catch(()=>{}));
 $("#projectSelect").addEventListener("change", async (e)=>{
   selectedProjectId = e.target.value;
   resetChatView();
   await loadProject(selectedProjectId);
   await refreshChats();
 });
 $("#btnRelease").addEventListener("click", ()=> release().catch(()=>{}));
+$("#btnDeleteChat").addEventListener("click", ()=> deleteChat().catch(()=>{}));
 $("#humanForm").addEventListener("submit", sendHuman);
 $("#btnOpenSettings").addEventListener("click", ()=> showPage("settings"));
 $("#btnBackToChats").addEventListener("click", ()=> showPage("chats"));
 $("#btnOpenUsers").addEventListener("click", ()=>{ showPage("users"); refreshUsers().catch(()=>{}); });
 $("#btnLinkTelegram").addEventListener("click", ()=> linkTelegram().catch(()=>{}));
 $("#btnUnlinkTelegram").addEventListener("click", ()=> unlinkTelegram().catch(()=>{}));
 $("#userForm").addEventListener("submit", (e)=> createUserFromForm(e).catch(()=>{}));
 $("#btnBackFromUsers").addEventListener("click", ()=> showPage("chats"));
 
 showPage("chats");
diff --git a/web-admin/index.html b/web-admin/index.html
index c3c96e70a7acb9a58dc407e10c518ad404f28961..ded12aaea03e42e908bd9aaf7dd95ba857737a2a 100644
--- a/web-admin/index.html
+++ b/web-admin/index.html
@@ -69,50 +69,51 @@
             <div>
               <p class="eyebrow">Работа с чатами</p>
               <h2>Чаты из виджета</h2>
               <p class="muted">Следите за диалогами пользователей и подключайтесь при необходимости.</p>
             </div>
           </div>
 
           <div class="chatLayout">
             <div class="chatListCard">
               <div class="listHead">
                 <h3>Чаты проекта</h3>
                 <span id="projectBadge" class="pill muted"></span>
               </div>
               <div id="chatList" class="list"></div>
             </div>
 
             <div class="chatBox card" id="chatBox" style="display:none">
               <div class="cardHead">
                 <div>
                   <p class="eyebrow">Активный чат</p>
                   <h3 class="mono" id="chatId"></h3>
                 </div>
                 <div class="row">
                   <span class="pill" id="chatMode"></span>
                   <button id="btnRelease" class="ghost">Передать ИИ</button>
+                  <button id="btnDeleteChat" class="ghost danger adminOnly">Удалить чат</button>
                 </div>
               </div>
 
               <div id="messages" class="msgs"></div>
 
               <form id="humanForm" class="row" style="margin-top:10px">
                 <input id="humanText" placeholder="Ответить как оператор..." />
                 <button type="submit">Отправить</button>
               </form>
               <div class="muted" style="margin-top:8px">
                 Human-ответ сохраняется и синхронизируется в OpenAI thread как <b>[OPERATOR] ...</b>
               </div>
             </div>
 
             <div class="placeholder" id="chatPlaceholder">
               <div class="empty">
                 <p class="eyebrow">Нет выбранного чата</p>
                 <h3>Выберите чат слева, чтобы открыть переписку</h3>
                 <p class="muted">Чаты обновляются в реальном времени. Используйте фильтры в панели сверху.</p>
               </div>
             </div>
           </div>
         </section>
 
         <section id="pageSettings" class="page" style="display:none">
