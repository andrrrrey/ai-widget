diff --git a/web-admin/admin.css b/web-admin/admin.css
index f244c02dc3acdcd659ee943f4c5e3b9b4c85d11a..809366e0927c40d7cbfc94dc6fdb18c7e8b4d354 100644
--- a/web-admin/admin.css
+++ b/web-admin/admin.css
@@ -1,95 +1,96 @@
 :root{
   --bg:#f5f7fb;
   --panel:#ffffff;
   --text:#1f2937;
   --muted:#6b7280;
   --accent:#5d5af6;
   --bad:#e11d48;
   --good:#16a34a;
   --border:#e5e7eb;
   --shadow:0 12px 40px rgba(17,24,39,0.08);
 }
 
 *{box-sizing:border-box}
 body{margin:0;background:var(--bg);color:var(--text);font-family:"Inter",ui-sans-serif,system-ui,-apple-system,Segoe UI,Roboto,Ubuntu,Cantarell,Noto Sans,Arial}
 
-.wrap{max-width:1280px;margin:28px auto;padding:0 16px}
+.wrap{max-width:1440px;margin:28px auto;padding:0 16px}
 
 h1{font-size:26px;margin:0 0 6px 0}
 h2{font-size:22px;margin:0}
 h3{margin:0;font-size:17px}
 
 .card{background:var(--panel);border:1px solid var(--border);border-radius:18px;padding:18px;box-shadow:var(--shadow)}
 
 .loginCard{display:flex;justify-content:space-between;align-items:flex-start;gap:32px;max-width:720px;margin:0 auto}
 .loginForm{display:flex;flex-direction:column;gap:12px;width:320px}
 
-.appShell{display:grid;grid-template-columns:320px 1fr;gap:20px;align-items:start}
-.sidebar{background:var(--panel);border:1px solid var(--border);border-radius:20px;padding:18px;display:flex;flex-direction:column;gap:16px;box-shadow:var(--shadow);min-height:80vh}
+.appShell{display:flex;flex-direction:column;gap:18px}
 .logoRow{display:flex;justify-content:space-between;align-items:center}
 .logo{font-weight:800;font-size:18px}
 .section{display:flex;flex-direction:column;gap:10px}
 .labelRow{display:flex;justify-content:space-between;align-items:center;font-weight:600;font-size:14px}
-.sidebarFooter{margin-top:auto;display:flex;flex-direction:column;gap:8px}
+.topbar{display:flex;flex-wrap:wrap;gap:14px;align-items:flex-end}
+.topbarSection{min-width:260px;flex:1;display:flex;flex-direction:column;gap:8px}
+.topbarActions{display:flex;gap:10px;margin-left:auto}
 
 .content{display:flex;flex-direction:column;gap:18px}
 .page{background:var(--panel);border:1px solid var(--border);border-radius:20px;padding:22px;box-shadow:var(--shadow)}
 .pageHead{display:flex;justify-content:space-between;align-items:flex-start;margin-bottom:14px}
 .eyebrow{font-size:12px;text-transform:uppercase;letter-spacing:0.08em;color:var(--muted);margin:0 0 6px 0;font-weight:700}
 
-.chatLayout{display:grid;grid-template-columns:340px 1fr;gap:16px;align-items:start}
+.chatLayout{display:grid;grid-template-columns:420px 1fr;gap:20px;align-items:start}
 .chatListCard{background:linear-gradient(135deg,rgba(93,90,246,0.08),rgba(93,90,246,0.02));border:1px solid var(--border);border-radius:18px;padding:16px;box-shadow:var(--shadow);display:flex;flex-direction:column;gap:12px}
 .listHead{display:flex;justify-content:space-between;align-items:center}
 .placeholder{height:100%;display:flex;align-items:center;justify-content:center}
 .empty{text-align:center;padding:40px;background:rgba(93,90,246,0.04);border:1px dashed var(--border);border-radius:16px}
 
 .row{display:flex;gap:10px;align-items:center}
 .row.tight select{flex:1}
 
 .muted{color:var(--muted);font-size:13px;margin:0}
 .mono{font-family:ui-monospace,SFMono-Regular,Menlo,Monaco,Consolas,monospace;overflow-wrap:anywhere}
 
 input,textarea,select{width:100%;border-radius:12px;border:1px solid var(--border);background:#f9fafb;color:var(--text);padding:10px 12px;font-size:14px;outline:none;transition:border-color .2s,box-shadow .2s}
 input:focus,textarea:focus,select:focus{border-color:var(--accent);box-shadow:0 0 0 3px rgba(93,90,246,0.15);background:white}
 textarea{resize:vertical}
 
 button{border-radius:12px;border:1px solid transparent;background:var(--accent);color:white;padding:10px 14px;font-weight:700;cursor:pointer;transition:transform .1s ease,box-shadow .2s,background .2s}
 button:hover{transform:translateY(-1px);box-shadow:0 8px 18px rgba(93,90,246,0.25)}
 button:active{transform:translateY(0)}
 button.ghost{background:transparent;color:var(--text);border-color:var(--border);box-shadow:none}
 button.ghost:hover{background:#eef2ff}
 button.icon{padding:8px 10px}
 button.text{color:var(--muted);border-color:transparent}
 button.primary{background:linear-gradient(135deg,#5d5af6,#7c5dfa);color:white}
 button.full{width:100%}
 
 .list{display:flex;flex-direction:column;gap:10px;max-height:620px;overflow:auto;padding-right:6px}
 .item{padding:12px;border:1px solid var(--border);border-radius:14px;cursor:pointer;background:white;transition:border-color .2s,transform .1s}
 .item:hover{border-color:var(--accent);transform:translateY(-1px)}
 .pill{display:inline-flex;align-items:center;padding:6px 10px;border-radius:999px;border:1px solid var(--border);font-size:12px;color:var(--muted);gap:6px}
 
 .msgs{max-height:620px;overflow:auto;border:1px solid var(--border);border-radius:14px;padding:12px;background:#f8fafc;display:flex;flex-direction:column;gap:10px}
 .msg{display:flex}
 .msg.user{justify-content:flex-end}
 .msg.assistant,.msg.human{justify-content:flex-start}
 .bubble{max-width:78%;padding:12px 14px;border-radius:14px;white-space:pre-wrap;word-break:break-word;font-size:14px;line-height:1.35;box-shadow:var(--shadow);background:white}
 .msg.user .bubble{background:#5d5af6;color:white;box-shadow:none;border-bottom-right-radius:6px}
 .msg.assistant .bubble{background:white;border:1px solid var(--border);border-bottom-left-radius:6px}
 .msg.human .bubble{background:rgba(93,90,246,0.12);border:1px solid rgba(93,90,246,0.35);border-bottom-left-radius:6px}
 
 .err{color:var(--bad);margin-top:4px;font-size:13px}
 .ok{color:var(--good);font-size:13px}
 
 .settingsCard{display:flex;flex-direction:column;gap:16px}
 .formGrid{display:grid;grid-template-columns:repeat(auto-fit,minmax(260px,1fr));gap:12px}
 
 @media (max-width:1180px){
-  .appShell{grid-template-columns:1fr}
-  .sidebar{min-height:auto}
+  .topbar{flex-direction:column;align-items:stretch}
+  .topbarActions{margin-left:0}
 }
 
 @media (max-width:980px){
   .chatLayout{grid-template-columns:1fr}
   .chatBox{order:2}
   .chatListCard{order:1}
 }
diff --git a/web-admin/admin.js b/web-admin/admin.js
index c5d19211e11c871d4c5617513f030363b2f877e9..23696b1755b161211daa746e1831999ed08fd9e4 100644
--- a/web-admin/admin.js
+++ b/web-admin/admin.js
@@ -16,51 +16,51 @@ async function api(path, opts={}){
 function escapeHtml(s){
   return String(s)
     .replaceAll("&","&amp;")
     .replaceAll("<","&lt;")
     .replaceAll(">","&gt;")
     .replaceAll('"',"&quot;")
     .replaceAll("'","&#039;");
 }
 
 function showPage(page){
   const isSettings = page === "settings";
   $("#pageChats").style.display = isSettings ? "none" : "block";
   $("#pageSettings").style.display = isSettings ? "block" : "none";
 }
 
 async function login(){
   $("#loginErr").textContent = "";
   const login = $("#login").value.trim();
   const password = $("#password").value;
   await api("/api/admin/login", {
     method:"POST",
     headers:{ "Content-Type":"application/json" },
     body: JSON.stringify({ login, password })
   });
   $("#loginBox").style.display = "none";
-  $("#app").style.display = "grid";
+  $("#app").style.display = "flex";
   await refreshProjects(true);
 }
 
 async function logout(){
   await api("/api/admin/logout", { method:"POST" });
   location.reload();
 }
 
 async function refreshProjects(autoSelectFirst=false){
   const j = await api("/api/admin/projects");
   const items = j.items || [];
   projectsCache = items;
   const sel = $("#projectSelect");
   sel.innerHTML = "";
   for(const p of items){
     const opt = document.createElement("option");
     opt.value = p.id;
     opt.textContent = p.name;
     sel.appendChild(opt);
   }
 
   if(autoSelectFirst && items[0]){
     selectedProjectId = items[0].id;
     sel.value = selectedProjectId;
   } else if(selectedProjectId){
diff --git a/web-admin/index.html b/web-admin/index.html
index 5cc15cca30adc1a6e6bc7abdd8f9379bae6bea51..965d51208b761422a75be1f82987a49e6a448479 100644
--- a/web-admin/index.html
+++ b/web-admin/index.html
@@ -1,136 +1,136 @@
 <!doctype html>
 <html lang="ru">
 <head>
   <meta charset="utf-8"/>
   <meta name="viewport" content="width=device-width, initial-scale=1"/>
   <title>Admin — AI Widget</title>
   <link rel="stylesheet" href="/admin/admin.css"/>
 </head>
 <body>
   <div class="wrap">
     <div id="loginBox" class="card loginCard">
       <div>
         <h1>AI Widget — Админка</h1>
         <p class="muted">Управление проектами и чатами в едином интерфейсе.</p>
       </div>
       <div class="loginForm">
         <input id="login" placeholder="Логин" value="admin"/>
         <input id="password" placeholder="Пароль" type="password"/>
         <button id="btnLogin">Войти</button>
         <div class="muted">Пароль берётся из переменной окружения <b>ADMIN_PASSWORD</b>.</div>
         <div id="loginErr" class="err"></div>
       </div>
     </div>
 
     <div id="app" class="appShell" style="display:none">
-      <aside class="sidebar">
+      <header class="topbar card">
         <div class="logoRow">
           <div class="logo">AI Widget</div>
           <button id="btnCreateProject" class="primary">+ Новый проект</button>
         </div>
 
-        <div class="section">
+        <div class="topbarSection">
           <div class="labelRow">
             <label for="projectSelect">Проекты</label>
             <button id="btnRefreshProjects" class="icon ghost" title="Обновить">⟳</button>
           </div>
           <select id="projectSelect"></select>
         </div>
 
-        <div class="section">
+        <div class="topbarSection">
           <div class="labelRow">
             <label>Фильтр чатов</label>
             <button id="btnRefreshChats" class="icon ghost" title="Обновить">⟳</button>
           </div>
           <div class="row tight">
             <select id="filterMode">
               <option value="">Все режимы</option>
               <option value="assistant">assistant</option>
               <option value="human">human</option>
             </select>
             <select id="filterStatus">
               <option value="">Все статусы</option>
               <option value="open">open</option>
               <option value="closed">closed</option>
             </select>
           </div>
         </div>
 
-        <div class="sidebarFooter">
-          <button id="btnOpenSettings" class="ghost full">Настройки проекта</button>
+        <div class="topbarActions">
+          <button id="btnOpenSettings" class="ghost">Настройки проекта</button>
           <button id="btnLogout" class="ghost text">Выйти</button>
         </div>
-      </aside>
+      </header>
 
       <main class="content">
         <section id="pageChats" class="page">
           <div class="pageHead">
             <div>
               <p class="eyebrow">Работа с чатами</p>
               <h2>Чаты из виджета</h2>
               <p class="muted">Следите за диалогами пользователей и подключайтесь при необходимости.</p>
             </div>
           </div>
 
           <div class="chatLayout">
             <div class="chatListCard">
               <div class="listHead">
                 <h3>Чаты проекта</h3>
                 <span id="projectBadge" class="pill muted"></span>
               </div>
               <div id="chatList" class="list"></div>
             </div>
 
             <div class="chatBox card" id="chatBox" style="display:none">
               <div class="cardHead">
                 <div>
                   <p class="eyebrow">Активный чат</p>
                   <h3 class="mono" id="chatId"></h3>
                 </div>
                 <div class="row">
                   <span class="pill" id="chatMode"></span>
                   <button id="btnRelease" class="ghost">Release</button>
                 </div>
               </div>
 
               <div id="messages" class="msgs"></div>
 
               <form id="humanForm" class="row" style="margin-top:10px">
                 <input id="humanText" placeholder="Ответить как оператор..." />
                 <button type="submit">Отправить</button>
               </form>
               <div class="muted" style="margin-top:8px">
                 Human-ответ сохраняется и синхронизируется в OpenAI thread как <b>[OPERATOR] ...</b>
               </div>
             </div>
 
             <div class="placeholder" id="chatPlaceholder">
               <div class="empty">
                 <p class="eyebrow">Нет выбранного чата</p>
                 <h3>Выберите чат слева, чтобы открыть переписку</h3>
-                <p class="muted">Чаты обновляются в реальном времени. Используйте фильтры в панели слева.</p>
+                <p class="muted">Чаты обновляются в реальном времени. Используйте фильтры в панели сверху.</p>
               </div>
             </div>
           </div>
         </section>
 
         <section id="pageSettings" class="page" style="display:none">
           <div class="pageHead">
             <div>
               <p class="eyebrow">Настройки</p>
               <h2>Настройки проекта</h2>
               <p class="muted">Изменяйте ключи OpenAI, разрешённые домены и инструкции ассистента.</p>
             </div>
             <div class="row">
               <button id="btnBackToChats" class="ghost">← Назад к чатам</button>
             </div>
           </div>
 
           <div class="settingsCard card">
             <div class="muted">Project ID (вставляется в data-project-id):</div>
             <div class="mono" id="projectId"></div>
 
             <div class="formGrid">
               <div>
                 <label class="muted">OpenAI API key (клиента)</label>
                 <input id="apiKey" placeholder="sk-..."/>
